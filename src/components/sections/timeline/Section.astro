---
import { timeline } from "@/data";
import TimelineCard from "./TimelineCard.astro";
import Line from "./Line.astro";
---

<section id="faq" class="relative bg-white text-[#010225]">
  <div class="relative z-[1] max-w-6xl mx-auto py-16 md:py-20 px-4 space-y-10">
    <div class="flex flex-col gap-2.5 justify-center items-center">
      <h2
        class="font-adoha text-center text-2xl md:text-[44px] md:leading-[66px]"
      >
        <span class="text-[#aacf1d]">Hackathon</span> Timeline
      </h2>
      <p class="text-[#4F4F4F] font-medium max-w-[735px] text-center">
        Explore key milestones and deadlines for the Hackathon, including
        registration dates, submission deadlines, and event schedules to ensure
        you're prepared and on track throughout the competition.
      </p>
    </div>
    <div class="mt-8 grid grid-cols-[60px_1fr] md:hidden">
      {
        timeline.map((d, i) => {
          const isFirst = i === 0;
          const isLast = i === timeline.length - 1;
          const lineProps = {
            isFirst,
            isLast,
            registrationRelated: d?.registrationRelated,
          };

          return (
            <>
              <Line {...lineProps} />
              <TimelineCard {...d} />
            </>
          );
        })
      }
    </div>
    <div class="hidden mt-8 md:grid grid-cols-[1fr_100px_1fr]">
      {
        timeline.map((d, i) => {
          const side = i % 2 === 0 ? "right" : "left";
          const isFirst = i === 0;
          const isLast = i === timeline.length - 1;
          const lineProps = {
            isFirst,
            isLast,
            registrationRelated: d?.registrationRelated,
          };
          if (side === "right") {
            return (
              <>
                <div />
                <Line {...lineProps} />
                <TimelineCard {...d} />
              </>
            );
          }

          return (
            <>
              <TimelineCard {...d} />
              <Line {...lineProps} />
              <div />
            </>
          );
        })
      }
    </div>
  </div>
</section>
